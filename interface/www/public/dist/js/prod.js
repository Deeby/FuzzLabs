function sampleController(e,t,i,n,r){e.data=r.data,e.opened=!1,e.reader=new FileReader,e.onPrimitiveServiceChange=function(){console.log(e.data)},e.onFileRead=function(t){d=Array.from(new Uint8Array(t.target.result,0,t.target.result.byteLength)),i.resetSelection(),r.initRoot(d),e.opened=!0,e.$apply()},e.fileOpen=function(t){e.reader.onloadend=e.onFileRead,e.reader.readAsArrayBuffer(t[0])},e.close=function(){e.opened=!1,i.resetSelection(),r.initRoot([])},r.registerObserver(e.onPrimitiveServiceChange)}function byteView(e,t,i){return{restrict:"E",scope:{value:"=",offset:"="},link:function(n,r,o){n.type="raw_byte",n.selected=!1,n.onSelectionChange=function(e){start=e.start,end=e.current_offset,start>end&&(start=e.current_offset,end=e.start),n.offset>=start&&n.offset<=end?n.selected=!0:n.selected=!1},n.showProperties=function(){i.passItem(n),t.updateCurrentOffset(n.offset)},n.byteSelected=function(){t.isSelectionActive()?t.setEndOffset(n.offset):t.setStartOffset(n.offset)},n.render=e.toHex(n.value,!1),t.addSelectionChangeObserver(n.onSelectionChange)},controller:["$scope",function(e){}],templateUrl:"/directives/byteview/byteview.html.tpl"}}function primitiveBinary(e,t,i){return{restrict:"E",scope:{value:"="},link:function(e,i,n){e.setActivePrimitive=function(){t.setActivePrimitive(e.name,e.value)}},controller:["$scope",function(e){}],templateUrl:"/directives/primitive-binary/primitive-binary.html.tpl"}}function propertiesView(e){return{restrict:"E",scope:{},controller:["$scope",function(t){t.unit={name:"",description:""};var i=function(){var i=e.getSelection();t.item_type=i.item_type,t.item_offset=i.item_offset.value,t.item_offset_hex=i.item_offset.hex,t.item_value=i.item_value.value,t.item_value_hex=i.item_value.hex,t.item_value_ascii=i.item_value.ascii};e.registerObserver(i)}],templateUrl:"/directives/propertiesview/propertiesview.html.tpl"}}function buttonBinary(e,t,i){return{restrict:"E",link:function(e,t,i){},controller:["$scope",function(e){}],templateUrl:"/primitives/binary/view-button-binary.html.tpl"}}function buttonDelimiter(e,t,i){return{restrict:"E",link:function(e,t,i){},controller:["$scope",function(e){}],templateUrl:"/primitives/delimiter/view-button-delimiter.html.tpl"}}function buttonBlock(e,t,i){return{restrict:"E",link:function(e,t,i){},controller:["$scope",function(e){}],templateUrl:"/primitives/block/view-button-block.html.tpl"}}function buttonHash(e,t,i){return{restrict:"E",link:function(e,t,i){},controller:["$scope",function(e){}],templateUrl:"/primitives/hash/view-button-hash.html.tpl"}}function buttonIncrement(e,t,i){return{restrict:"E",link:function(e,t,i){},controller:["$scope",function(e){}],templateUrl:"/primitives/increment/view-button-increment.html.tpl"}}function buttonNumeric(e,t,i){return{restrict:"E",link:function(e,t,i){},controller:["$scope",function(e){}],templateUrl:"/primitives/numeric/view-button-numeric.html.tpl"}}function buttonPadding(e,t,i){return{restrict:"E",link:function(e,t,i){},controller:["$scope",function(e){}],templateUrl:"/primitives/padding/view-button-padding.html.tpl"}}function buttonRandom(e,t,i){return{restrict:"E",link:function(e,t,i){},controller:["$scope",function(e){}],templateUrl:"/primitives/random/view-button-random.html.tpl"}}function buttonStatic(e,t,i){return{restrict:"E",link:function(e,t,i){},controller:["$scope",function(e){}],templateUrl:"/primitives/static/view-button-static.html.tpl"}}function buttonSizer(e,t,i){return{restrict:"E",link:function(e,t,i){},controller:["$scope",function(e){}],templateUrl:"/primitives/sizer/view-button-sizer.html.tpl"}}function buttonString(e,t,i){return{restrict:"E",link:function(e,t,i){},controller:["$scope",function(e){}],templateUrl:"/primitives/string/view-button-string.html.tpl"}}var dependencies=["ngRoute","ngMaterial","ngFileUpload"],routes=[],app=angular.module("testApp",dependencies);app.config(["$routeProvider",function(e){_.forEach(routes,function(t){var i=t.path||"/"+t.module,n=t.templateUrl||"/modules/"+t.module+"/"+t.module+".html.tpl",r=t.controller||t.module+"Controller",t={templateUrl:n,controller:r};e.when(i,t)}),e.otherwise({redirectTo:"/sample"})}]),dependencies.push("sample"),routes.push({module:"sample"}),angular.module("sample",[]);var allowDrop=function(e){e.preventDefault()};sampleController.$inject=["$scope","utilityService","selectionService","propertiesService","primitiveService"];var designer=angular.module("sample");designer.controller("sampleController",sampleController),designer.directive("propertiesView",["propertiesService",propertiesView]),designer.directive("byteView",["utilityService","selectionService","propertiesService",byteView]),designer.directive("buttonBlock",["utilityService","selectionService","propertiesService",buttonBlock]),designer.directive("buttonNumeric",["utilityService","selectionService","propertiesService",buttonNumeric]),designer.directive("buttonStatic",["utilityService","selectionService","propertiesService",buttonStatic]),designer.directive("buttonString",["utilityService","selectionService","propertiesService",buttonString]),designer.directive("buttonDelimiter",["utilityService","selectionService","propertiesService",buttonDelimiter]),designer.directive("buttonBinary",["utilityService","selectionService","propertiesService",buttonBinary]),designer.directive("buttonHash",["utilityService","selectionService","propertiesService",buttonHash]),designer.directive("buttonIncrement",["utilityService","selectionService","propertiesService",buttonIncrement]),designer.directive("buttonPadding",["utilityService","selectionService","propertiesService",buttonPadding]),designer.directive("buttonRandom",["utilityService","selectionService","propertiesService",buttonRandom]),designer.directive("buttonSizer",["utilityService","selectionService","propertiesService",buttonSizer]),app.factory("primitiveService",[function(){var e=[];this.data=[];var t=function(){angular.forEach(e,function(e){e()})};return this.initRoot=function(e){this.data.length=0;for(var i=0;i<e.length;i++)this.data.push(e[i]);t()},this.registerObserver=function(t){e.push(t)},this.addPrimitive=function(e,t){},this}]),app.factory("propertiesService",["utilityService",function(e){var t={selection:{primitive:"",item_type:"",item_offset:{value:0,hex:""},item_value:{value:0,hex:"",ascii:""}}},i=[],n=function(){angular.forEach(i,function(e){e()})};return this.registerObserver=function(e){i.push(e)},this.getSelection=function(){return t.selection},this.passItem=function(i){"raw_byte"==i.type&&(t.selection.item_type="Raw byte",t.selection.item_offset.value=i.offset,t.selection.item_value.value=i.value,t.selection.item_offset.hex=e.toHex(i.offset,!0),t.selection.item_value.hex=e.toHex(i.value,!0),t.selection.item_value.ascii=e.toAscii(i.value)),n()},this}]),app.factory("selectionService",[function(){var e=[],t={active_primitive:{name:"",value:!1},start:-1,end:-1,current_offset:-1};return this.resetSelection=function(){this.setStartOffset(-1),t.end=-1,this.setActivePrimitive("",!1)},this.setActivePrimitive=function(e,i){t.name=e,t.value=i,this.raiseSelectionChange()},this.isSelectionActive=function(){return t.current_offset!=-1},this.addSelectionChangeObserver=function(t){e.push(t)},this.raiseSelectionChange=function(){angular.forEach(e,function(e){e(t)})},this.updateCurrentOffset=function(e){1==this.isSelectionActive()&&(t.current_offset=e,this.raiseSelectionChange())},this.setStartOffset=function(e){t.start=e,t.current_offset=e},this.setEndOffset=function(e){t.end=e;var i=t.start,n=t.end;n<i&&(t.start=n,t.end=i),t.current_offset=-1},this}]),app.service("sampleService",[function(){this.sample=function(e){e(!0)}}]),app.factory("utilityService",[function(){return this.toHex=function(e,t){e=e.toString(16);var i="0x";return e.length%2&&(e="0"+e),t!==!0&&(i=""),i+e.toUpperCase()},this.toAscii=function(e){return e>255||e<0?"":String.fromCharCode(e)},this}]),app.factory("User",[function(){function e(e){_.assign(this,e)}return e.prototype.sampleFunction=function(){return"sample"},e.build=function(t){return new e(t)},e}]),app.factory("BinaryModel",[function(){function e(e){_.assign(this,e)}return e.prototype.sampleFunction=function(){return"binarymodel"},e.build=function(t){return new e(t)},e}]),app.factory("DelimiterModel",[function(){function e(e){_.assign(this,e)}return e.prototype.sampleFunction=function(){return"delimitermodel"},e.build=function(t){return new e(t)},e}]),app.factory("BlockModel",[function(){function e(e){_.assign(this,e)}return e.prototype.sampleFunction=function(){return"blockmodel"},e.build=function(t){return new e(t)},e}]),app.factory("HashModel",[function(){function e(e){_.assign(this,e)}return e.prototype.sampleFunction=function(){return"hashmodel"},e.build=function(t){return new e(t)},e}]),app.factory("IncrementModel",[function(){function e(e){_.assign(this,e)}return e.prototype.sampleFunction=function(){return"incrementmodel"},e.build=function(t){return new e(t)},e}]),app.factory("NumericModel",[function(){function e(e){_.assign(this,e)}return e.prototype.sampleFunction=function(){return"numericmodel"},e.build=function(t){return new e(t)},e}]),app.factory("PaddingModel",[function(){function e(e){_.assign(this,e)}return e.prototype.sampleFunction=function(){return"paddingmodel"},e.build=function(t){return new e(t)},e}]),app.factory("RandomModel",[function(){function e(e){_.assign(this,e)}return e.prototype.sampleFunction=function(){return"randommodel"},e.build=function(t){return new e(t)},e}]),app.factory("StaticModel",[function(){function e(e){_.assign(this,e)}return e.prototype.sampleFunction=function(){return"staticmodel"},e.build=function(t){return new e(t)},e}]),app.factory("SizerModel",[function(){function e(e){_.assign(this,e)}return e.prototype.sampleFunction=function(){return"sizermodel"},e.build=function(t){return new e(t)},e}]),app.factory("StringModel",[function(){function e(e){_.assign(this,e)}return e.prototype.sampleFunction=function(){return"stringmodel"},e.build=function(t){return new e(t)},e}]);